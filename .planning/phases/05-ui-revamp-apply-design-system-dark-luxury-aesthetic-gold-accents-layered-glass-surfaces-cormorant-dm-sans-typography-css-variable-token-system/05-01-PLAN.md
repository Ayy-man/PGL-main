---
phase: 05-ui-revamp
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/globals.css
  - src/app/layout.tsx
  - tailwind.config.ts
autonomous: true
requirements:
  - UI-01
  - UI-02
must_haves:
  truths:
    - "All design system CSS variables from MASTER.md Section 3 exist in globals.css .dark block"
    - "Cormorant Garamond renders for font-serif, DM Sans renders for font-sans, JetBrains Mono renders for font-mono"
    - "Tailwind classes like text-gold, bg-gold-bg, border-gold map to the new CSS variables"
    - "Custom scrollbar has gold-tinted thumb, page fadeIn animation defined, ambient glow classes available"
    - "Existing shadcn OKLCH tokens (--background, --foreground, --card, etc.) remain untouched"
  artifacts:
    - path: "src/app/globals.css"
      provides: "All design system CSS variables, scrollbar, ambient glow, fadeIn animation"
      contains: "--bg-root"
    - path: "src/app/layout.tsx"
      provides: "DM Sans + Cormorant Garamond + JetBrains Mono font loading via next/font/google"
      contains: "Cormorant_Garamond"
    - path: "tailwind.config.ts"
      provides: "Tailwind color/radius/animation mappings for new CSS variables"
      contains: "gold-primary"
  key_links:
    - from: "src/app/globals.css"
      to: "tailwind.config.ts"
      via: "CSS variables referenced by Tailwind token names"
      pattern: "var\\(--gold"
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "Font CSS variables injected by next/font match globals.css --font-sans/--font-serif"
      pattern: "variable.*--font-sans"
---

<objective>
Establish the design system token foundation: CSS custom properties, font loading, and Tailwind mappings.

Purpose: Every subsequent plan depends on these tokens being available. This is the zero-cost, zero-risk foundation â€” pure CSS/config changes with no component modifications.

Output: globals.css with all MASTER.md variables, layout.tsx with new font stack, tailwind.config.ts with token mappings.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@design-system/MASTER.md
@src/app/globals.css
@src/app/layout.tsx
@tailwind.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add design system CSS variables, scrollbar, ambient glow, and fadeIn animation to globals.css</name>
  <files>src/app/globals.css</files>
  <action>
Add the following CSS variables to the `.dark` block in globals.css. DO NOT modify or remove any existing OKLCH-based variables (`--background`, `--foreground`, `--card`, `--border`, `--primary`, etc.). Only ADD new variables.

**Backgrounds (add inside .dark block):**
```
--bg-root: #08080a;
--bg-sidebar: linear-gradient(180deg, #0d0d10 0%, #0a0a0d 100%);
--bg-card-gradient: linear-gradient(145deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
--bg-card-hover: linear-gradient(145deg, rgba(212,175,55,0.04) 0%, rgba(255,255,255,0.02) 100%);
--bg-elevated: rgba(255,255,255,0.03);
--bg-input: rgba(255,255,255,0.02);
```

NOTE: Name the card gradient `--bg-card-gradient` (not `--bg-card`) to avoid clash with the existing `--card` OKLCH token used by shadcn `bg-card`.

**Borders:**
```
--border-subtle: rgba(255,255,255,0.05);
--border-default: rgba(255,255,255,0.06);
--border-hover: rgba(212,175,55,0.15);
--border-gold: rgba(212,175,55,0.25);
--border-sidebar: rgba(212,175,55,0.08);
```

**Gold accent:**
```
--gold-primary: #d4af37;
--gold-bright: #f0d060;
--gold-text: rgba(212,175,55,0.7);
--gold-muted: rgba(212,175,55,0.5);
--gold-bg: rgba(212,175,55,0.08);
--gold-bg-strong: rgba(212,175,55,0.15);
```

**Text (design-system-specific):**
```
--text-primary-ds: #e8e4dc;
--text-secondary-ds: rgba(232,228,220,0.5);
--text-tertiary: rgba(232,228,220,0.4);
--text-ghost: rgba(255,255,255,0.15);
```

NOTE: Use `--text-primary-ds` and `--text-secondary-ds` (not `--text-primary`/`--text-secondary`) to avoid colliding with existing shadcn `--primary`/`--secondary` tokens.

**Semantic status colors (add if not already present):**
```
--success: #22c55e;
--success-muted: rgba(34,197,94,0.15);
--info: #60a5fa;
--info-muted: rgba(96,165,250,0.15);
--warning: #f59e0b;
--warning-muted: rgba(245,158,11,0.15);
```

**After the .dark block, add these global styles:**

1. Custom scrollbar (outside any selector, at top level):
```css
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(212,175,55,0.15); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(212,175,55,0.25); }
```

2. Page fadeIn animation (add in @layer utilities or after the scrollbar):
```css
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.page-enter { animation: fadeIn 0.4s ease forwards; }
```

3. Surface card utility (add in @layer utilities):
```css
@layer utilities {
  .surface-card {
    background: var(--bg-card-gradient);
    border: 1px solid var(--border-subtle);
    border-radius: 14px;
    transition: background 0.2s ease, border-color 0.2s ease;
  }
  .surface-card:hover {
    background: var(--bg-card-hover);
    border-color: var(--border-hover);
  }
}
```

4. Ambient glow classes (add in @layer utilities):
```css
@layer utilities {
  .ambient-glow-top {
    position: fixed;
    top: -200px;
    right: -200px;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(212,175,55,0.03) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }
  .ambient-glow-bottom {
    position: fixed;
    bottom: -150px;
    left: -150px;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(212,175,55,0.02) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }
}
```

Also update the font fallback strings: change any `--font-sans` fallback from "Inter" to "DM Sans" and `--font-serif` fallback from "Playfair Display" to "Cormorant Garamond" in both `:root` and `.dark` blocks.
  </action>
  <verify>
    <automated>cd "/Users/aymanbaig/Desktop/Manual Library/Phronesis-main" && grep -c "\-\-bg-root\|--gold-primary\|--border-hover\|--text-ghost\|surface-card\|ambient-glow\|fadeIn\|scrollbar-thumb" src/app/globals.css | awk '{if ($1 >= 8) print "PASS: All token groups found"; else print "FAIL: Missing tokens"}'</automated>
  </verify>
  <done>globals.css contains all design system variables from MASTER.md Section 3, custom scrollbar, fadeIn animation, surface-card utility, and ambient glow classes. No existing OKLCH tokens were modified.</done>
</task>

<task type="auto">
  <name>Task 2: Swap fonts to Cormorant Garamond + DM Sans + JetBrains Mono and extend tailwind.config.ts</name>
  <files>src/app/layout.tsx, tailwind.config.ts</files>
  <action>
**In src/app/layout.tsx:**

Replace the current font imports (Inter and Playfair_Display) with:

```typescript
import { DM_Sans, Cormorant_Garamond, JetBrains_Mono } from "next/font/google";

const dmSans = DM_Sans({
  subsets: ["latin"],
  weight: ["300", "400", "500", "600", "700"],
  variable: "--font-sans",
  display: "swap",
});

const cormorant = Cormorant_Garamond({
  subsets: ["latin"],
  weight: ["400", "500", "600", "700"],
  variable: "--font-serif",
  display: "swap",
});

const jetbrainsMono = JetBrains_Mono({
  subsets: ["latin"],
  weight: ["400", "500"],
  variable: "--font-mono",
  display: "swap",
});
```

Update the `<body>` (or `<html>`) className to include all three font variables:
```
className={`${dmSans.variable} ${cormorant.variable} ${jetbrainsMono.variable} font-sans antialiased`}
```

Keep the existing `dark` class on `<html>` and `suppressHydrationWarning`. Do NOT change anything else in layout.tsx.

**In tailwind.config.ts:**

Add the following to the `extend` section (inside `theme.extend`):

Colors (add to existing colors object):
```typescript
'gold': 'var(--gold-primary)',
'gold-bright': 'var(--gold-bright)',
'gold-text': 'var(--gold-text)',
'gold-muted': 'var(--gold-muted)',
'gold-bg': 'var(--gold-bg)',
'gold-bg-strong': 'var(--gold-bg-strong)',
'border-subtle': 'var(--border-subtle)',
'border-hover': 'var(--border-hover)',
'border-gold': 'var(--border-gold)',
'border-sidebar': 'var(--border-sidebar)',
'bg-elevated': 'var(--bg-elevated)',
'bg-input-custom': 'var(--bg-input)',
'text-tertiary': 'var(--text-tertiary)',
'text-ghost': 'var(--text-ghost)',
'success': 'var(--success)',
'success-muted': 'var(--success-muted)',
'info': 'var(--info)',
'info-muted': 'var(--info-muted)',
'warning': 'var(--warning)',
'warning-muted': 'var(--warning-muted)',
```

Border radius (add to existing or create):
```typescript
borderRadius: {
  'card': '14px',
  'btn': '8px',
  'badge': '20px',
}
```

Animation + Keyframes (add to existing or create):
```typescript
animation: {
  'page-enter': 'fadeIn 0.4s ease forwards',
},
keyframes: {
  fadeIn: {
    from: { opacity: '0', transform: 'translateY(8px)' },
    to: { opacity: '1', transform: 'translateY(0)' },
  },
},
```

IMPORTANT: Do not remove or modify any existing tailwind.config.ts entries. Only extend.
  </action>
  <verify>
    <automated>cd "/Users/aymanbaig/Desktop/Manual Library/Phronesis-main" && grep -q "Cormorant_Garamond" src/app/layout.tsx && grep -q "gold-primary\|gold.*var" tailwind.config.ts && echo "PASS: Font swap and tailwind tokens present" || echo "FAIL"</automated>
  </verify>
  <done>layout.tsx loads DM Sans, Cormorant Garamond, and JetBrains Mono via next/font/google. tailwind.config.ts maps all new CSS variables to Tailwind class names. font-serif class renders Cormorant, font-sans renders DM Sans, font-mono renders JetBrains Mono.</done>
</task>

</tasks>

<verification>
1. `grep --bg-root src/app/globals.css` returns a match
2. `grep Cormorant_Garamond src/app/layout.tsx` returns a match
3. `grep gold-primary tailwind.config.ts` returns a match
4. `npx next build` compiles without errors (font loading valid, CSS parses correctly)
5. Existing OKLCH tokens (`--background`, `--foreground`, `--card`) remain unchanged in globals.css
</verification>

<success_criteria>
- All CSS variables from MASTER.md Sections 3-4 exist in globals.css
- Font loading swapped from Inter/Playfair to DM Sans/Cormorant Garamond/JetBrains Mono
- Tailwind config extends with gold, border, text, radius, and animation tokens
- Build compiles without errors
- No existing tokens removed or modified
</success_criteria>

<output>
After completion, create `.planning/phases/05-ui-revamp-apply-design-system-dark-luxury-aesthetic-gold-accents-layered-glass-surfaces-cormorant-dm-sans-typography-css-variable-token-system/05-01-SUMMARY.md`
</output>
