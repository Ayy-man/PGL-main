---
phase: 05-ui-revamp
plan: 06
type: execute
wave: 3
depends_on: ["05-01", "05-02"]
files_modified:
  - src/components/prospect/prospect-slide-over.tsx
  - src/components/prospect/profile-view.tsx
  - src/components/prospect/enrichment-status.tsx
autonomous: true
requirements:
  - PROF-01
  - PROF-07
  - PROF-09
must_haves:
  truths:
    - "Clicking a prospect opens a 480px slide-over panel from the right edge"
    - "Panel has sticky header with close button and Full Profile link"
    - "Identity block shows 56px avatar, Cormorant name at 24px, and action circles"
    - "Quick info grid renders as 2x2 with label/value pairs"
    - "Enrichment progress bar uses gold gradient fill"
    - "AI summary section has gold left border with AI INSIGHT label"
    - "Panel URL state syncs via ?prospect= query param"
  artifacts:
    - path: "src/components/prospect/prospect-slide-over.tsx"
      provides: "480px slide-over panel using shadcn Sheet with all 7 sections"
      min_lines: 100
    - path: "src/components/prospect/profile-view.tsx"
      provides: "Updated profile sections with design system tokens"
      contains: "font-serif"
    - path: "src/components/prospect/enrichment-status.tsx"
      provides: "Updated enrichment status indicators with icon + color + label"
      contains: "CheckCircle2"
  key_links:
    - from: "src/components/prospect/prospect-slide-over.tsx"
      to: "src/components/ui/sheet.tsx"
      via: "SlideOver wraps shadcn Sheet component"
      pattern: "Sheet"
    - from: "src/components/prospect/prospect-slide-over.tsx"
      to: "src/components/prospect/profile-view.tsx"
      via: "SlideOver renders ProfileView sections inside panel body"
      pattern: "ProfileView\|profile-view"
---

<objective>
Build the prospect slide-over panel and update the existing profile view components to match the design system.

Purpose: The slide-over panel is the primary prospect interaction surface. It replaces navigating to a separate page with an inline panel that opens from search results.

Output: New ProspectSlideOver component using shadcn Sheet, updated profile sections with design system typography and gold accents, enrichment status with icon + color + label pattern.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@design-system/MASTER.md
@design-system/pages/prospect-detail.md
@src/components/prospect/profile-view.tsx
@src/components/prospect/enrichment-status.tsx
@src/components/ui/sheet.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ProspectSlideOver panel using shadcn Sheet</name>
  <files>src/components/prospect/prospect-slide-over.tsx</files>
  <action>
Create a new ProspectSlideOver component per prospect-detail.md "Section 4b: Slide-Over Panel":

**Use shadcn Sheet component** (already installed at src/components/ui/sheet.tsx). DO NOT hand-roll a custom panel.

```tsx
import { Sheet, SheetContent } from "@/components/ui/sheet";
```

**Panel Container (SheetContent):**
- side: `"right"`
- style: `{ width: "min(480px, 90vw)", background: "#0d0d10", borderLeft: "1px solid rgba(212,175,55,0.1)", boxShadow: "-20px 0 60px rgba(0,0,0,0.5)" }`
- className: `"p-0 overflow-y-auto"`

**Panel Header (sticky):**
- `sticky top-0 z-10 flex items-center justify-between px-7 py-5`
- style: `{ background: "#0d0d10" }`
- Close button: 32px circle, `bg-muted border border-border rounded-full flex items-center justify-center cursor-pointer hover:bg-accent transition-colors`, X icon `h-4 w-4`
- "View Full Profile" link: Right-aligned, `text-sm text-[var(--gold-primary)] hover:text-[var(--gold-muted)] cursor-pointer`

**Panel Body (px-7 space-y-6 pb-10):**

Seven sections, top to bottom:

1. **Identity Block:**
   - Avatar: 56px, `rounded-full border-2 border-border`
   - Name: `font-serif text-[24px] font-semibold text-foreground`
   - Email: `text-sm text-muted-foreground`
   - Action circles: 4x 36px circles, `gap-3`, each: `bg-muted border border-border rounded-full flex items-center justify-center cursor-pointer hover:bg-accent hover:text-foreground transition-colors`
   - Icons: MessageSquare, Mail, Phone, MoreHorizontal from lucide-react, `h-4 w-4`
   - Each circle must have `aria-label`

2. **Quick Info Grid:**
   - 2x2 grid: `grid grid-cols-2 rounded-[10px] border border-border overflow-hidden` with `style={{ background: "var(--bg-card-gradient)" }}`
   - Each cell: `p-4`, inner borders between cells
   - Label: `text-xs text-muted-foreground uppercase tracking-wider`
   - Value: `text-sm font-medium text-foreground`
   - Fields: Title, Company, Location, Wealth Tier

3. **Enrichment Progress:**
   - Header: Sparkle icon `h-4 w-4 text-[var(--gold-primary)]` + "Enrichment" label + percentage
   - Progress bar: `h-2 rounded-full bg-muted` track, fill with `bg-gradient-to-r from-[var(--gold-muted)] to-[var(--gold-primary)]`
   - Source tags: Row of pills, each `text-xs rounded-full px-2 py-0.5`
     - Complete: `bg-success-muted text-success border border-success/30`
     - Pending: `bg-muted text-muted-foreground border border-border`
     - Failed: `bg-destructive/15 text-destructive border border-destructive/30`

4. **AI Summary:**
   - Container: `border-l-2 pl-4 py-3` with `style={{ borderColor: "var(--border-gold)" }}`
   - Label: `text-xs font-semibold uppercase tracking-wider text-[var(--gold-primary)]` — "AI INSIGHT"
   - Body: `text-sm text-foreground leading-relaxed`
   - Empty: "Generate Summary" button with gold outline styling

5. **SEC Insider Transactions:**
   - Show 3-5 most recent. MASTER data table pattern.
   - Amounts: `font-mono text-[var(--gold-primary)] text-right`
   - "View All" link in gold

6. **Notes:**
   - Note cards: `bg-muted rounded-md p-3 space-y-1`
   - Add Note button: ghost variant, gold text

7. **Lists Membership:**
   - Pills: `flex flex-wrap gap-2`, each `text-xs rounded-full px-3 py-1 bg-muted text-foreground border border-border`
   - "+ Add to List": dashed border pill, gold text, `hover:bg-[var(--gold-bg)]`

**Props:**
```typescript
interface ProspectSlideOverProps {
  open: boolean;
  onClose: () => void;
  prospectId: string | null;
}
```

**Panel Behavior:**
- Close on Escape key, backdrop click, X button (handled by Sheet component)
- URL state: Caller manages `?prospect={id}` query param
- Enrichment: Trigger enrichment check on open for any pending sources
- Scroll: Panel body scrolls independently
  </action>
  <verify>
    <automated>cd "/Users/aymanbaig/Desktop/Manual Library/Phronesis-main" && test -f "src/components/prospect/prospect-slide-over.tsx" && grep -q "Sheet" "src/components/prospect/prospect-slide-over.tsx" && grep -q "font-serif" "src/components/prospect/prospect-slide-over.tsx" && echo "PASS" || echo "FAIL"</automated>
  </verify>
  <done>ProspectSlideOver panel created with shadcn Sheet, 480px width, all 7 sections, sticky header, gold accent treatment, and proper accessibility (aria-labels, keyboard close).</done>
</task>

<task type="auto">
  <name>Task 2: Update profile-view.tsx and enrichment-status.tsx with design system tokens</name>
  <files>src/components/prospect/profile-view.tsx, src/components/prospect/enrichment-status.tsx</files>
  <action>
**profile-view.tsx:**

Apply the migration map from prospect-detail.md:
- Replace ALL `bg-zinc-950` with `bg-background`
- Replace ALL `bg-zinc-900` with `bg-card` or `surface-card`
- Replace ALL `border-zinc-800` with `border`
- Replace ALL `text-zinc-100` and `text-zinc-300` with `text-foreground`
- Replace ALL `text-zinc-400` and `text-zinc-500` with `text-muted-foreground`
- Replace ALL `hover:bg-zinc-700` and `hover:bg-zinc-850` with `hover:bg-accent`
- Replace ALL `#f4d47f` with `text-gold` or `text-[var(--gold-primary)]`
- Replace ALL `#d4af37` with `text-[var(--gold-muted)]` or `border-[var(--border-gold)]`
- Replace ALL `text-green-500` with `text-success`
- Replace ALL `text-red-500` with `text-destructive`
- Replace ALL `text-blue-400` with `text-info`
- Replace ALL `text-orange-500` with `text-warning`
- Replace ALL `bg-orange-950/50` with `bg-warning-muted`
- Replace ALL `border-orange-800` with `border-warning/30`

Update typography:
- Prospect name headings: Add `font-serif` class
- Currency values: Ensure `font-mono text-[var(--gold-primary)]`
- Section labels: `text-xs font-semibold uppercase tracking-wider text-muted-foreground`

Update surface treatment:
- Cards/sections: Use `surface-card` class or `style={{ background: "var(--bg-card-gradient)" }}`
- Border radius: Cards to `rounded-[14px]`

**enrichment-status.tsx:**

Update enrichment status indicators per prospect-detail.md "Enrichment Status Icons":
- Each status: icon + color + label (accessibility-compliant, color is not the only indicator)
- Pending: `Circle` icon, `text-muted-foreground`, label "Pending"
- In Progress: `Loader2` icon with `animate-spin`, `text-info`, label "Running"
- Complete: `CheckCircle2` icon, `text-success`, label "Complete"
- Failed: `XCircle` icon, `text-destructive`, label "Failed"
- Skipped: `Minus` icon, `text-muted-foreground`, label "Skipped"
- Circuit Open: `Circle` icon, `text-warning`, label "Paused"

Import all icons from lucide-react. Ensure each status renders: `<Icon className="h-4 w-4 shrink-0" /> <span>{label}</span>`

Replace any raw color classes with the semantic tokens above.
  </action>
  <verify>
    <automated>cd "/Users/aymanbaig/Desktop/Manual Library/Phronesis-main" && ! grep -q "zinc-\|bg-zinc\|text-zinc\|border-zinc" src/components/prospect/profile-view.tsx && grep -q "CheckCircle2\|text-success" src/components/prospect/enrichment-status.tsx && echo "PASS" || echo "FAIL"</automated>
  </verify>
  <done>profile-view.tsx has no raw zinc-* classes — all replaced with design system tokens. Currency values use gold mono font. enrichment-status.tsx renders icon + color + label for all 6 statuses.</done>
</task>

</tasks>

<verification>
1. ProspectSlideOver file exists and uses Sheet component
2. Panel is 480px with gold left border and deep shadow
3. All 7 sections render in correct order with correct typography
4. profile-view.tsx has zero instances of `zinc-`, `gray-`, `green-500`, `red-500`, `blue-400`, `orange-500`
5. enrichment-status.tsx shows icon + label for every status (not color alone)
6. `npx next build` compiles without errors
</verification>

<success_criteria>
- Slide-over panel: 480px, slides from right, 7 sections, Cormorant name, gold accents, sticky header
- Profile view: All raw colors replaced with tokens, Cormorant headings, gold for financial data
- Enrichment status: Icon + color + label pattern, all 6 statuses covered
- Accessibility: aria-labels on icon-only buttons, keyboard dismissal, focus trap via Sheet
</success_criteria>

<output>
After completion, create `.planning/phases/05-ui-revamp-apply-design-system-dark-luxury-aesthetic-gold-accents-layered-glass-surfaces-cormorant-dm-sans-typography-css-variable-token-system/05-06-SUMMARY.md`
</output>
