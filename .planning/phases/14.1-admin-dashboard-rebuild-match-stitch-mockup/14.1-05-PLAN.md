---
phase: 14.1-admin-dashboard-rebuild-match-stitch-mockup
plan: 05
type: execute
wave: 3
depends_on: [14.1-01, 14.1-04]
files_modified: []
autonomous: true
requirements: [SA-01, SA-02, SA-03, SA-04, SA-05, ANLY-03]

must_haves:
  truths:
    - pnpm build exits with code 0 (no compilation errors)
    - No raw Tailwind color classes (zinc-*, gray-*, emerald-*, green-*, red-*, amber-*, blue-*, purple-*, yellow-*) in any admin component file
    - No Material Symbols or non-Lucide icon imports in admin files
    - All admin components use CSS variables for colors, not inline hex values from the mockup
    - Every interactive element in admin components has cursor-pointer or cursor-default appropriately
    - surface-admin-card class or equivalent gradient surface is used on all card containers
    - onMouseEnter/onMouseLeave pattern used for all CSS-variable-based hover states (no Tailwind hover: with CSS vars)
    - Skeleton/loading states exist for null data in all admin components
  artifacts: []
  key_links:
    - Build output confirms 0 errors
    - Grep results confirm no design system violations
---

<objective>
Verify the full admin dashboard rebuild compiles cleanly and passes design system compliance checks.

Purpose: Final verification that all Plans 01-04 integrate cleanly, the build passes, and the design system rules are followed throughout all admin files.

Output: Build verification results, design system audit results, STATE.md and ROADMAP.md updates.
</objective>

<execution_context>
@/Users/aymanbaig/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aymanbaig/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md
@.planning/phases/14.1-admin-dashboard-rebuild-match-stitch-mockup/14.1-RESEARCH.md
@design-system/MASTER.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build verification — pnpm build must exit 0</name>
  <files></files>
  <action>
Run `pnpm build` in the project root and confirm it exits with code 0.

**Expected:** Build succeeds. The only acceptable warnings are:
- img-element warnings (pre-existing, per Phase 07-05 decision)
- Dynamic server usage messages (informational, per Phase 07-05 decision)

**If build fails:**
1. Read the error output carefully
2. Fix TypeScript errors in the files modified by Plans 01-04:
   - `src/app/admin/page.tsx`
   - `src/app/admin/admin-nav-links.tsx`
   - `src/app/admin/layout.tsx`
   - `src/app/admin/admin-mobile-sidebar.tsx`
   - `src/components/admin/platform-pulse.tsx`
   - `src/components/admin/enrichment-health-chart.tsx`
   - `src/components/admin/api-quota-card.tsx`
   - `src/components/admin/export-activity-chart.tsx`
   - `src/components/admin/tenant-heatmap.tsx`
   - `src/components/admin/error-feed.tsx`
   - `src/components/admin/system-actions.tsx`
3. Re-run build until it passes

**Do NOT fix issues in files outside the admin scope** — those are out of scope for this phase.
  </action>
  <verify>
    <automated>cd "/Users/aymanbaig/Desktop/Manual Library/Phronesis-main" && pnpm build 2>&1 | tail -20</automated>
  </verify>
  <done>
pnpm build exits with code 0. Any warnings are pre-existing and documented.
  </done>
</task>

<task type="auto">
  <name>Task 2: Design system compliance audit + STATE/ROADMAP update</name>
  <files></files>
  <action>
Run the following grep-based design system compliance checks against all admin files.

**Files to audit:**
```
src/app/admin/page.tsx
src/app/admin/admin-nav-links.tsx
src/app/admin/layout.tsx
src/app/admin/admin-mobile-sidebar.tsx
src/components/admin/platform-pulse.tsx
src/components/admin/enrichment-health-chart.tsx
src/components/admin/api-quota-card.tsx
src/components/admin/export-activity-chart.tsx
src/components/admin/tenant-heatmap.tsx
src/components/admin/error-feed.tsx
src/components/admin/system-actions.tsx
```

**Compliance checks (grep for violations — expect 0 matches):**

1. **No raw Tailwind color classes:** `grep -rn "text-zinc\|bg-zinc\|text-gray\|bg-gray\|text-emerald\|bg-emerald\|text-green-[0-9]\|bg-green-[0-9]\|text-red-[0-9]\|bg-red-[0-9]\|text-amber-[0-9]\|bg-amber-[0-9]\|text-blue-[0-9]\|bg-blue-[0-9]\|text-purple-[0-9]\|bg-purple-[0-9]\|text-yellow\|bg-yellow" {files}`
2. **No Material Symbols:** `grep -rn "material-symbols\|MaterialSymbol\|@mui" {files}`
3. **No non-Lucide icons:** `grep -rn "from.*heroicons\|from.*@fortawesome\|from.*react-icons" {files}`
4. **No inline hex from mockup:** `grep -rn "#221e10\|#f1bf27\|#2c2616\|#1a160d\|#3d3521" {files}`
5. **surface-admin-card or equivalent on cards:** Visual inspection — every card container must have `surface-admin-card` class or equivalent gradient surface treatment
6. **onMouseEnter/Leave pattern:** `grep -c "onMouseEnter" {files}` — should be >0 in interactive components (nav-links, tenant-heatmap, error-feed, system-actions, export-activity-chart)
7. **Skeleton states:** `grep -c "animate-pulse\|skeleton\|null" {files}` — each data-driven component should have a loading path
8. **rounded-[14px] on cards:** `grep -c "rounded-\[14px\]" {files}` — all card containers per MASTER.md
9. **No Tailwind hover: with CSS variables:** `grep -rn 'hover:bg-\[var\|hover:text-\[var\|hover:border-\[var' {files}` — expect 0 matches (must use onMouseEnter/Leave instead)

**If any violations found:**
Fix them in the relevant files. Common fixes:
- Replace `text-green-400` with `style={{ color: "var(--success)" }}`
- Replace `bg-red-500/10` with `style={{ background: "rgba(239,68,68,0.1)" }}`
- Replace `hover:bg-[var(--gold-bg)]` with onMouseEnter/Leave handler

**After all checks pass:**
Update STATE.md:
- Change status to reflect Phase 14.1 completion
- Add Phase 14.1 entry to Performance Metrics table
- Update "Current Position" and "Last activity" fields
- Add accumulated decisions from this phase

Update ROADMAP.md:
- Mark Phase 14.1 plans as complete with [x] checkboxes
- Update phase status to COMPLETE
  </action>
  <verify>
    <automated>cd "/Users/aymanbaig/Desktop/Manual Library/Phronesis-main" && grep -rn "text-zinc\|bg-zinc\|text-gray\|bg-gray\|text-green-[0-9]\|bg-green-[0-9]\|text-red-[0-9]\|bg-red-[0-9]\|text-amber-[0-9]\|bg-amber-[0-9]\|text-blue-[0-9]\|bg-blue-[0-9]\|text-purple-[0-9]\|bg-purple-[0-9]\|#221e10\|#f1bf27\|material-symbols" src/app/admin/ src/components/admin/ 2>&1 | head -20</automated>
  </verify>
  <done>
All design system compliance checks pass (0 violations). STATE.md and ROADMAP.md updated to reflect Phase 14.1 completion. No raw Tailwind colors, no Material Symbols, no mockup hex values, all cards use surface treatment, all hover states use onMouseEnter/Leave.
  </done>
</task>

</tasks>

<verification>
1. `pnpm build` exits with code 0
2. All 9 design system compliance checks return 0 violations
3. STATE.md updated with Phase 14.1 completion
4. ROADMAP.md Phase 14.1 plans marked complete
5. No regressions in non-admin pages (build covers all pages)
</verification>

<success_criteria>
- Build compiles clean
- Zero design system violations across all 11 admin files
- STATE.md and ROADMAP.md reflect Phase 14.1 completion
- Admin dashboard visually matches the stitch mockup's layout structure
</success_criteria>

<output>
After completion, create `.planning/phases/14.1-admin-dashboard-rebuild-match-stitch-mockup/14.1-05-SUMMARY.md`
</output>
