# Plan 09-06: Build Verification + Design System Compliance Audit

```yaml
wave: 4
depends_on:
  - 09-03
  - 09-04
  - 09-05
files_modified: []
autonomous: true
requirements:
  - PROF-01
  - PROF-02
  - PROF-03
  - PROF-04
  - PROF-05
  - PROF-06
  - PROF-07
  - PROF-08
  - PROF-09
  - PROF-10
```

## Goal

Verify that `pnpm build` passes clean and audit all Phase 9 files against the design system for compliance. Fix any issues found. This is the final checkpoint before Phase 9 is marked complete.

## must_haves

- `pnpm build` passes with no TypeScript errors (warnings acceptable per Phase 7 precedent)
- All 10 PROF-XX requirements are visually addressed in the codebase
- All new/modified files comply with design system tokens (no raw zinc-*, no inline hex, no font-cormorant, no scale transforms)
- All card containers use `surface-card` or `var(--bg-card-gradient)` as appropriate
- All clickable elements have `cursor-pointer`
- All icon-only buttons have `aria-label`
- Activity timeline data flows from page.tsx -> ProfileView -> ActivityTimeline

## Tasks

<task id="09-06-T1">
**Run `pnpm build` and fix any errors**

Execute `pnpm build` in the project root. The build should complete successfully.

Expected outcomes:
- TypeScript compilation passes
- Next.js page generation succeeds
- Any `img-element` warnings are pre-existing (not errors)
- Dynamic server usage messages for cookie-using API routes are expected

If any errors occur:
1. Read the error message carefully
2. Identify the affected file and line
3. Fix the TypeScript or import error
4. Re-run build to confirm fix

Do NOT modify business logic, API routes, or database queries. Only fix type errors, import paths, or missing props that block compilation.
</task>

<task id="09-06-T2">
**Design system compliance audit â€” all Phase 9 files**

Audit each file modified/created in Phase 9 against the design system checklist:

**Files to audit:**
1. `src/components/prospect/profile-header.tsx`
2. `src/components/prospect/profile-tabs.tsx`
3. `src/components/prospect/activity-timeline.tsx`
4. `src/components/prospect/sec-filings-table.tsx`
5. `src/components/prospect/enrichment-tab.tsx`
6. `src/components/prospect/notes-tab.tsx`
7. `src/components/prospect/lists-tab.tsx`
8. `src/components/prospect/profile-view.tsx`
9. `src/components/prospect/prospect-slide-over.tsx`
10. `src/components/prospect/wealth-signals.tsx`
11. `src/app/[orgId]/prospects/[prospectId]/page.tsx`

**Checklist per file:**
- [ ] No raw Tailwind color classes (`zinc-*`, `gray-*`, `emerald-*`, `red-*`, `green-*`, `blue-*`, `orange-*`)
- [ ] No inline hex values in className or style (except `#0d0d10` in slide-over)
- [ ] No `font-cormorant` (must be `font-serif`)
- [ ] No scale transforms on hover
- [ ] Cards use `surface-card` utility or `var(--bg-card-gradient)` appropriately
- [ ] All clickable elements have `cursor-pointer`
- [ ] All icon-only buttons have `aria-label`
- [ ] Gold color used via CSS variables (`var(--gold-primary)`, `var(--gold-muted)`, etc.)
- [ ] `font-serif` for headings (h1-h3, card titles), `font-sans` for body/labels
- [ ] Border radius: 14px for cards/panels, 8px for buttons/inputs, 20px for badges/pills

Fix any violations found. Document fixes in this plan's verification results.
</task>

<task id="09-06-T3">
**Requirement coverage audit**

Verify each PROF-XX requirement has corresponding UI elements:

| ID | Requirement | Where Addressed |
|----|------------|----------------|
| PROF-01 | Clicking prospect opens profile view | ProspectSlideOver (click from search) + page.tsx (direct URL) |
| PROF-02 | Lazy enrichment trigger | page.tsx fire-and-forget fetch (no change needed) |
| PROF-03 | ContactOut personal email/phone | Overview tab contact section in ProfileView |
| PROF-04 | Exa web presence/wealth signals | WealthSignals component (web mentions) |
| PROF-05 | SEC EDGAR insider transactions | SECFilingsTable (tab) + slide-over Section 5 |
| PROF-06 | Claude AI summary | AI Insight block in overview tab + slide-over Section 4 |
| PROF-07 | Enrichment status indicators | EnrichmentTab (full page) + slide-over Section 3 |
| PROF-08 | Cached enrichment with timestamp | page.tsx staleness check (no change needed) |
| PROF-09 | Add to list from profile | ProfileHeader "Add to List" button + ListsTab dashed card |
| PROF-10 | Find Similar People | ProfileHeader "Find Lookalikes" button -> LookalikeDiscovery |

Confirm each requirement is visually present. If any requirement is not addressed, document the gap and fix it.
</task>

## Verification

- [ ] `pnpm build` passes clean (no TypeScript errors)
- [ ] All 11 audited files pass design system compliance checklist
- [ ] All 10 PROF-XX requirements have corresponding UI elements
- [ ] No remaining raw color classes in any Phase 9 file
- [ ] No missing `cursor-pointer` on clickable elements
- [ ] No missing `aria-label` on icon-only buttons
- [ ] Activity data flows: page.tsx -> ProfileView -> ActivityTimeline
