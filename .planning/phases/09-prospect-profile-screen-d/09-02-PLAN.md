# Plan 09-02: Build SEC Filings Table + Refactor EnrichmentStatus as Tab Content

```yaml
wave: 1
depends_on: []
files_modified:
  - src/components/prospect/sec-filings-table.tsx
  - src/components/prospect/enrichment-tab.tsx
  - src/components/prospect/notes-tab.tsx
  - src/components/prospect/lists-tab.tsx
autonomous: true
requirements:
  - PROF-05
  - PROF-07
  - PROF-09
```

## Goal

Create four tab-content components for the full profile page's right column: SEC Filings (full sortable table), Enrichment (source card grid), Notes (textarea + note cards), and Lists (card grid with "Add to List" dashed card). These are standalone components that receive data via props and do not fetch data themselves.

## must_haves

- SECFilingsTable renders all transactions in a full sortable table with transaction type colored pills (Purchase=success, Sale=destructive, Grant=info), amounts in gold font-mono, date column in muted text
- EnrichmentTab renders a grid of source cards (grid-cols-2 md:grid-cols-4) with source name, status icon+color+label, data preview, and per-source refresh button
- NotesTab renders a textarea + submit button at the top, existing note cards below, empty state message
- ListsTab renders a card grid (grid-cols-2 md:grid-cols-3) with list name, member count, and a dashed "Add to List" card with gold styling

## Tasks

<task id="09-02-T1">
**Create `src/components/prospect/sec-filings-table.tsx`**

Build full SEC Filings table matching Section 4c "SEC Filings Tab" spec:

- Props: `transactions` array of `{ date: string; transactionType: string; shares: number; pricePerShare: number; totalValue: number }[]`, `totalValue?: number`
- Full table with all transactions (not limited to 5 like slide-over)
- Columns: Date, Type, Shares, Price/Share, Total Value
- Header cells: `text-xs font-semibold uppercase tracking-wider text-muted-foreground bg-background`
- Transaction type colored pills:
  - Purchase: `bg-success-muted text-success border border-success/30`
  - Sale: `bg-destructive/15 text-destructive border border-destructive/30`
  - Grant/Other: `bg-info-muted text-info border border-info/30`
- Amounts: `font-mono text-sm font-semibold text-right`, color `var(--gold-primary)` via style
- Date: `text-xs text-muted-foreground`
- Shares: `font-mono text-sm text-right text-foreground`
- Row hover: `hover:bg-[rgba(255,255,255,0.02)] transition-colors`
- Total row at bottom: "Total" label + total value in gold font-mono font-semibold
- Reuse or inline `formatCurrency` utility (same as prospect-slide-over.tsx)
- Table wrapped in `overflow-hidden rounded-md border`
- Empty state: "No SEC filings found" message
- `"use client"` directive
</task>

<task id="09-02-T2">
**Create `src/components/prospect/enrichment-tab.tsx`**

Build Enrichment tab content matching Section 4c "Enrichment Tab" spec:

- Props: `sourceStatus` (Record<string, SourceStatus>), `prospectId` (string)
- Layout: `grid grid-cols-2 md:grid-cols-4 gap-4`
- Each source card: `surface-card rounded-[14px] p-4`
  - Source name: `text-sm font-semibold text-foreground`
  - Status: icon + color + label per enrichment status icons table (reuse EnrichmentIcon pattern from prospect-slide-over.tsx)
  - Data preview: `text-xs text-muted-foreground` — show "Data available" or "No data" based on status
  - Refresh button: ghost variant, small, per-source — calls `POST /api/prospects/{prospectId}/enrich`
- SOURCE_LABELS: ContactOut, Exa, SEC EDGAR, Claude AI
- `"use client"` directive (has onClick for refresh)
- Re-use `EnrichmentIcon` component and `SourceStatus` type from prospect-slide-over or define inline
</task>

<task id="09-02-T3">
**Create `src/components/prospect/notes-tab.tsx`**

Build Notes tab content matching Section 4c "Notes Tab" spec:

- Props: `notes` array of `{ id: string; body: string; author: string; createdAt: string }[]`, `prospectId` (string)
- Layout: `space-y-4`
- Add note section at top: textarea (`surface-card rounded-[14px] p-4`, `min-h-[80px]`, `bg-muted` input background, `text-sm text-foreground`, `placeholder="Add a note..."`) + submit button (gold variant)
- Note cards below: same as slide-over notes pattern: `bg-muted rounded-md p-3 space-y-1`, body `text-sm text-foreground`, meta `text-xs text-muted-foreground` with author + relative timestamp
- Empty state: "No notes yet. Add a note to track interactions." in `text-sm text-muted-foreground`
- Submit button is a stub (like slide-over's Add Note) -- logs to console. This is a UI redesign phase, not a feature phase.
- `"use client"` directive
</task>

<task id="09-02-T4">
**Create `src/components/prospect/lists-tab.tsx`**

Build Lists tab content matching Section 4c "Lists Tab" spec:

- Props: `memberships` array of `{ listId: string; listName: string; status: string; addedAt: string }[]`, `orgId` (string), `onAddToList?: () => void`
- Layout: `grid grid-cols-2 md:grid-cols-3 gap-4`
- Each list card: `surface-card rounded-[14px] p-4 cursor-pointer hover:bg-accent`
  - List name: `text-sm font-semibold text-foreground`
  - Status: `text-xs text-muted-foreground capitalize`
  - Added date: `text-xs text-muted-foreground`
  - Card links to `/${orgId}/lists/${listId}` via Next.js Link
- "Add to List" card: dashed border card `border-dashed` with `border-gold/30 text-gold hover:bg-gold/10 cursor-pointer` styling, Plus icon
- Empty state: no list cards, just the "Add to List" dashed card
- `"use client"` directive
</task>

## Verification

- [ ] `pnpm tsc --noEmit` passes with no errors for all four new files
- [ ] SECFilingsTable renders full transaction table with colored type pills and gold amounts
- [ ] EnrichmentTab renders 4 source cards in a responsive grid
- [ ] NotesTab renders textarea + note cards with empty state
- [ ] ListsTab renders card grid with dashed "Add to List" card
- [ ] All components use `surface-card` utility where specified
- [ ] No raw zinc-*, no inline hex values, no `font-cormorant`
- [ ] All clickable elements have `cursor-pointer`
