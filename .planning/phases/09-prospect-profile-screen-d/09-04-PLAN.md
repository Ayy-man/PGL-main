# Plan 09-04: Audit + Clean Up Slide-Over Panel + Refactor WealthSignals

```yaml
wave: 3
depends_on:
  - 09-01
files_modified:
  - src/components/prospect/prospect-slide-over.tsx
  - src/components/prospect/wealth-signals.tsx
autonomous: true
requirements:
  - PROF-01
  - PROF-03
  - PROF-04
  - PROF-05
  - PROF-06
  - PROF-07
```

## Goal

Audit the ProspectSlideOver component against the 7-section spec in `design-system/pages/prospect-detail.md` Section 4b. The slide-over was built in Phase 5 and is mostly correct. This plan addresses the remaining gaps and applies any token inconsistencies found in the audit. Also refactor WealthSignals to use design tokens properly.

## must_haves

- ProspectSlideOver passes audit against all 7 sections of the slide-over spec
- Notes section has tooltip on "+ Add Note" button stating "Add notes on the full profile page"
- Lists section's "+ Add to List" button has tooltip "Add to list on the full profile page"
- WealthSignals uses `surface-card` utility for container instead of `rounded-lg border bg-card p-6`
- WealthSignals transaction amounts use gold color via CSS variable
- WealthSignals web mention links use `text-gold hover:text-gold-muted` (already correct, verify)
- No raw zinc-*, no inline hex values in either component

## Tasks

<task id="09-04-T1">
**Audit and clean up `src/components/prospect/prospect-slide-over.tsx`**

Walk through each section against the prospect-detail.md Section 4b spec:

**Section 1 - Identity Block:** PASSES (verified in research). No changes needed.

**Section 2 - Quick Info Grid:** PASSES. The grid uses `style={{ background: "var(--bg-card-gradient)" }}` which is acceptable inside the slide-over (surface-card utility includes border-radius 14px but the grid uses 10px; keep the inline approach here).

**Section 3 - Enrichment Progress:** PASSES. Gold gradient bar, source tags with status colors. No changes.

**Section 4 - AI Summary:** PASSES. Gold left-border, "AI INSIGHT" label, Generate Summary button. No changes.

**Section 5 - SEC Transactions:** PASSES. Top 5 rows, gold amounts, "View All" link. No changes.

**Section 6 - Notes:** PARTIAL FIX NEEDED.
- The "+ Add Note" button is non-functional (expected per research).
- Add a `title` attribute to the button: `title="Add notes on the full profile page"`
- This provides a tooltip explaining the behavior without building feature scope.

**Section 7 - Lists Membership:** PARTIAL FIX NEEDED.
- The "+ Add to List" button is non-functional (expected per research).
- Add a `title` attribute to the button: `title="Add to list on the full profile page"`
- This provides a tooltip explaining the behavior without building feature scope.

**Additional checks:**
- Verify no raw zinc-* classes anywhere in the file
- Verify no inline hex values except the hardcoded `#0d0d10` background (acceptable per spec: "slightly cooler than --background for layering distinction")
- Verify all clickable elements have `cursor-pointer`
- Verify all icon-only buttons have `aria-label`
</task>

<task id="09-04-T2">
**Refactor `src/components/prospect/wealth-signals.tsx` — Design token compliance**

The WealthSignals component predates the Phase 5 design system pass. Apply these changes:

1. **Container**: Replace `rounded-lg border bg-card p-6` with `surface-card rounded-[14px] p-6` on both the empty state and the main container divs.

2. **Heading**: The heading uses `font-serif text-xl font-semibold text-foreground` which is correct. Verify `font-serif` not `font-cormorant`.

3. **Web mentions cards**: Replace `rounded-md border bg-background p-4` with `surface-card rounded-[14px] p-4` for each mention card.

4. **Mention links**: Already use `text-gold hover:text-gold-muted` pattern. Verify.

5. **Transaction table**:
   - Header: Already uses correct `text-xs font-semibold uppercase tracking-wider text-muted-foreground`. Verify `bg-background` on thead.
   - Total value amount: Already uses `text-gold`. Verify it's `font-mono font-semibold text-gold`.
   - Row hover: Replace `hover:bg-muted/50` with `hover:bg-[rgba(255,255,255,0.02)]` to match MASTER data table pattern.

6. **Table container**: Replace `overflow-hidden rounded-md border` — keep as is (table doesn't use surface-card; the outer div uses it).

7. **Verify no raw color classes**: Check for any `text-white`, `bg-red-*`, `bg-green-*`, etc. Replace with design tokens.

8. **Empty state**: Should match MASTER empty state pattern. Update to use `text-muted-foreground` for the description text and `font-serif` for the heading.
</task>

## Verification

- [ ] `pnpm tsc --noEmit` passes with no errors
- [ ] ProspectSlideOver "+ Add Note" button has tooltip
- [ ] ProspectSlideOver "+ Add to List" button has tooltip
- [ ] No functional changes to slide-over behavior (purely cosmetic)
- [ ] WealthSignals uses `surface-card` for containers
- [ ] WealthSignals transaction amounts in gold via CSS variable
- [ ] WealthSignals row hover uses `rgba(255,255,255,0.02)` pattern
- [ ] No raw zinc-*, no `font-cormorant`, no inline hex colors (except #0d0d10 in slide-over)
- [ ] All clickable elements have `cursor-pointer`
